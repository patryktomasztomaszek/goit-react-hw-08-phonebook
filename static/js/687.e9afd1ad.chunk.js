"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[687],{7687:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(5861),a=n(9439),s=n(4687),o=n.n(s),i=(n(2791),n(5048)),u=n(7689),c=n(6696),l=n(7496),p=n(5334),m="LoginPage_login_form__0K5yS",f=n(3329),d=function(){var e=(0,p.YA)(),t=(0,a.Z)(e,1)[0],n=(0,i.I0)(),s=(0,u.s0)(),d=function(){var e=(0,r.Z)(o().mark((function e(r){var a,i,u,p,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=r.target,i=a.email.value,u=a.password.value,p={email:i,password:u},e.next=7,t(p).unwrap().then((function(e){var t=e.token,r=e.user,a=r.email,s=r.name;localStorage.setItem("token",JSON.stringify(t)),t&&n((0,l.cn)({email:a,name:s}))})).catch((function(){alert("Data incorrect! Try again.")}));case 7:return e.next=9,JSON.parse(localStorage.getItem("token"));case 9:if(void 0!==(m=e.sent)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,n((0,c.Z6)(m));case 14:return e.next=16,s("/contacts");case 16:a.reset();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=m;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("form",{className:h,onSubmit:d,children:[(0,f.jsxs)("label",{children:["E-mail",(0,f.jsx)("input",{type:"email",name:"email",autoComplete:"email",required:!0})]}),(0,f.jsxs)("label",{children:["Password",(0,f.jsx)("input",{type:"password",name:"password",autoComplete:"current-password",required:!0})]}),(0,f.jsx)("button",{type:"submit",children:"Log in"})]})})}}}]);
//# sourceMappingURL=687.e9afd1ad.chunk.js.map